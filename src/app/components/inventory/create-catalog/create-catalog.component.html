<mat-card class="catalog-container">
    <mat-card-header>
        <mat-card-title>Create Catalog</mat-card-title>
    </mat-card-header>

    <form [formGroup]="createCatalogGroup" class="catalog-form" (ngSubmit)="onSubmit()" *ngIf="createCatalogGroup">
        <mat-card-content class="catalog-form-content" >

            <!-- Name -->
            <mat-form-field class="username">
                <mat-label>Catalog Title</mat-label>
                <input matInput type="text" formControlName="name">
            </mat-form-field>

            <!-- Products -->
            <div cdkDropList  class="catalog-products-container" formArrayName="products" (cdkDropListDropped)="drop($event)">

                <div cdkDrag *ngFor="let product of products?.controls; let i = index;" [formGroupName]="i" class="catalog-products">

                    <!-- Product Index -->
                    <div class="order-number">{{ product.value.sequence + 1 }}.</div>

                    <!-- Cost -->
                    <mat-form-field class="catalog-product-cost">
                        <mat-label>
                            {{ product.value.name }}
                        </mat-label>
                        <input matInput type="number" formControlName="cost">
                    </mat-form-field>

                    <!-- Remove product from catalog -->
                    <button type="button" mat-icon-button (click)="handleDeleteProduct(i, product.value)"><mat-icon>delete</mat-icon></button>

                </div>
            </div>

            <br>
            <button type="button" mat-raised-button color="primary" (click)="handleAddProduct()">Add Product</button>

        </mat-card-content>

        <mat-card-actions>
            <p align="end" class="full-width">
                <button type="button" mat-raised-button routerLink="/inventory/catalog/store/default">Cancel</button>
                <button type="submit" mat-raised-button color="primary">Save</button>
            </p>
        </mat-card-actions>
    </form>
</mat-card>